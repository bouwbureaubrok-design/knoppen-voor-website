(function () {
  "use strict";

  const tools = [
    { href: "/rekentools/balklaag-berekenen",      title: "ðŸªµ Balklaag berekenen",       sub: "Eurocode 5 â€¢ hout" },
    { href: "/rekentools/stalen-ligger-berekenen", title: "ðŸ—ï¸ Stalen ligger berekenen", sub: "Eurocode 3 â€¢ staal" },
    { href: "/rekentools/stempelplan-berekenen",   title: "ðŸ§± Stempelplan berekenen",   sub: "Ondersteuning â€¢ praktijk" },
    { href: "/rekentools/windbelasting-berekenen", title: "ðŸ’¨ Windbelasting berekenen", sub: "Eurocode 1 â€¢ wind" }
  ];

  function buildCard() {
    const card = document.createElement("div");
    card.className = "balkcalc-card toolknoppen-card";

    const label = document.createElement("label");
    label.className = "balkcalc-label";
    label.textContent = "Rekentools";
    card.appendChild(label);

    const grid = document.createElement("div");
    grid.className = "balkcalc-grid balkcalc-g2";
    card.appendChild(grid);

    tools.forEach(t => {
      const a = document.createElement("a");
      a.className = "balkcalc-btn";
      a.href = t.href;
      a.setAttribute("role", "button");
      a.innerHTML = `${t.title}<span class="balkcalc-btnSub">${t.sub}</span>`;
      grid.appendChild(a);
    });

    return card;
  }

  function init(selector) {
    document.querySelectorAll(selector).forEach(el => {
      if (el.querySelector(".toolknoppen-card")) return; // geen dubbel
      el.appendChild(buildCard());
    });
  }

  // auto-init op .toolknoppen
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", () => init(".toolknoppen"));
  } else {
    init(".toolknoppen");
  }

  // optioneel: handmatige init
  window.ToolKnoppenInit = function (opts) {
    init((opts && opts.selector) || ".toolknoppen");
  };
})();
